(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t,n){e.exports={nav:"styles_nav__3gboZ"}},15:function(e,t,n){e.exports={container:"styles_container__3bndJ",form:"styles_form__1ag2L",input:"styles_input__2qKnd",button:"styles_button__2spNA",link:"styles_link__3hCmZ"}},195:function(e,t,n){},196:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(46),c=n.n(s),r=n(25),o="/",i="/lesson",l="/favorite",u="/history",p="/auth",j="/create",d=n(106),b=n.n(d),O=n(4),h=O.c,f=n(6),m=n.n(f),x=n(18),_=n(47),v=n.n(_),E=v.a.create({withCredentials:!0,baseURL:"https://pure-woodland-99054.herokuapp.com/"});E.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(localStorage.getItem("token")),e})),E.interceptors.response.use((function(e){return e}),function(){var e=Object(x.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,401!==t.response.status||!t.config||t.config._isRetry){e.next=14;break}return e.prev=2,e.next=5,v.a.get("https://pure-woodland-99054.herokuapp.com/auth/refresh",{withCredentials:!0});case 5:return a=e.sent,localStorage.setItem("token",a.data.accessToken),e.abrupt("return",E.request(n));case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d");case 13:case 14:throw t;case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}());var g,C=function(e){return E.get("api/lessons/".concat((null===e||void 0===e?void 0:e.field)||"").concat((null===e||void 0===e?void 0:e.value)||""))},N=function(e,t){return E.get("api/lesson/".concat(e).concat(t||""))},R=function(e){return E.delete("api/lesson/".concat(e))},S=function(e){return E.post("api/lesson/create",e)},y=function(e,t){return E.put("api/lesson/update/".concat(e),t)},T=function(e){return E.post("/auth/signup",e)},k=function(e){return E.post("/auth/signin",e)};!function(e){e.FETCH_ALL="FETCH_ALL",e.FETCH_ALL_SUCCESS="FETCH_ALL_SUCCESS",e.FETCH_ALL_ERROR="FETCH_ALL_ERROR",e.FETCH_ONE="FETCH_ONE",e.FETCH_ONE_SUCCESS="FETCH_ONE_SUCCESS",e.FETCH_ONE_ERROR="FETCH_ONE_ERROR",e.UPDATE="UPDATE",e.UPDATE_SUCCESS="UPDATE_SUCCESS",e.UPDATE_ERROR="UPDATE_ERROR",e.DELETE="DELETE",e.DELETE_SUCCESS="DELETE_SUCCESS",e.DELETE_ERROR="DELETE_ERROR",e.CREATE="CREATE",e.CREATE_SUCCESS="CREATE_SUCCESS",e.CREATE_ERROR="CREATE_ERROR",e.LIKE="LIKE",e.SEARCH="SEARCH"}(g||(g={}));var A,L=function(e){return function(){var t=Object(x.a)(m.a.mark((function t(n){var a,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:g.FETCH_ALL}),e&&(e.field+="/"),t.next=6,C(e);case 6:a=t.sent,s=a.data,n({type:g.FETCH_ALL_SUCCESS,payload:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:g.FETCH_ALL_ERROR,payload:"\u0423\u0440\u043e\u043a\u0438 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"});case 14:case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e,t){return function(){var n=Object(x.a)(m.a.mark((function n(a){var s,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:g.FETCH_ONE}),t&&(t="/"+t),n.next=6,N(e,t);case 6:s=n.sent,c=s.data,localStorage.setItem("lesson",c._id),a({type:g.FETCH_ONE_SUCCESS,payload:c}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),a({type:g.FETCH_ONE_ERROR,payload:"\u0423\u0440\u043e\u043a \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"});case 15:case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()},w=n(0),U=function(e){e.text;return Object(w.jsx)("div",{})},H=n(206),D=n(205),F=function(){return Object(w.jsx)(H.a,{children:Object(w.jsx)(D.a,{color:"primary"})})},G=n(31),P=n.n(G),K=n(105),J=n.n(K),V=function(e){var t=e.lesson,n=Object(O.b)(),a=h((function(e){var t;return null===(t=e.auth.auth)||void 0===t?void 0:t.user}));return Object(w.jsx)("div",{className:P.a.wrapper,children:Object(w.jsxs)(r.b,{to:i,onClick:function(){n(I(t._id,null===a||void 0===a?void 0:a.id))},children:[Object(w.jsx)("div",{className:P.a.poster,children:Object(w.jsx)("img",{width:"300px",height:"200px",src:t.poster,alt:"lesson_image"})}),Object(w.jsxs)("div",{className:P.a.info,children:[Object(w.jsx)("div",{className:P.a.title,children:t.title}),Object(w.jsx)("div",{className:P.a.creator,children:t.authorName}),Object(w.jsx)("div",{className:P.a.date,children:J()(t.createdAt).fromNow()}),Object(w.jsx)("div",{className:P.a.tags,children:t.tags.map((function(e){return Object(w.jsx)("div",{className:P.a.tag,children:e},e)}))})]})]})})},q=n(32),B=n.n(q),M=function(){var e=h((function(e){return e.lessons})),t=e.lessons,n=e.loading,s=e.error,c=Object(O.b)();return Object(a.useEffect)((function(){c(L())}),[c]),n?Object(w.jsx)("div",{className:"page",children:Object(w.jsx)(F,{})}):s?Object(w.jsx)(U,{text:s}):Object(w.jsxs)("div",{className:"page",children:[Object(w.jsx)("h2",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(w.jsx)("div",{className:B.a.container,children:t.length>0?t.map((function(e){return Object(w.jsx)(V,{lesson:e},e._id)})):Object(w.jsxs)("div",{children:[Object(w.jsx)(b.a,{}),Object(w.jsx)("h5",{children:"\u0422\u0443\u0442 \u043f\u0443\u0441\u0442\u043e :("})]})})]})},z=n(19),Q=n(28),Z=n(20),W=n(44),X=n.n(W);!function(e){e.title="title",e.description="description",e.poster="poster"}(A||(A={}));var Y,$=function(e){var t=e.id,n=e.title,s=e.description,c=e.poster,r=Object(O.b)(),o=Object(a.useState)({title:n,description:s,poster:c}),i=Object(z.a)(o,2),l=i[0],u=i[1],p=function(e){u(Object(Z.a)(Object(Z.a)({},l),{},Object(Q.a)({},e.target.name,e.target.value)))};return Object(w.jsxs)("form",{className:X.a.form,onSubmit:function(e){e.preventDefault(),r(function(e,t){return function(){var n=Object(x.a)(m.a.mark((function n(a){var s,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:g.UPDATE}),n.next=4,y(e,t);case 4:s=n.sent,c=s.data,a({type:g.UPDATE_SUCCESS,payload:c}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a({type:g.UPDATE_ERROR,payload:"\u0423\u0440\u043e\u043a \u043d\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"});case 12:case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(t,l))},children:[Object(w.jsx)("h3",{children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(w.jsx)("input",{className:X.a.input,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:p,name:A.title,defaultValue:n}),Object(w.jsx)("input",{className:X.a.input,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",onChange:p,name:A.description,defaultValue:s}),Object(w.jsx)("input",{className:X.a.input,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u043e\u0441\u0442\u0435\u0440",onChange:p,name:A.poster,defaultValue:c}),Object(w.jsx)("button",{className:X.a.button,type:"submit",children:"\u0413\u043e\u0442\u043e\u0432\u043e"})]})},ee=n(107),te=n.n(ee),ne=n(108),ae=n.n(ne),se=n(109),ce=n.n(se),re=n(110),oe=n.n(re),ie=n(111),le=n.n(ie),ue=n(24),pe=n.n(ue),je=function(){var e=Object(a.useState)(!1),t=Object(z.a)(e,2),n=t[0],s=t[1],c=Object(O.b)(),i=h((function(e){return e.lesson})),l=i.lesson,u=i.loading,p=i.error,j=h((function(e){var t;return null===(t=e.auth.auth)||void 0===t?void 0:t.user}));if(Object(a.useEffect)((function(){!localStorage.getItem("lesson")||u||l||c(I(localStorage.getItem("lesson"),null===j||void 0===j?void 0:j.id))}),[c,l,u,j]),u)return Object(w.jsx)("h4",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."});if(p)return Object(w.jsx)(U,{text:p});var d=function(){var e=l._id,t=j.id;c(function(e,t){return function(){var n=Object(x.a)(m.a.mark((function n(a){var s,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r=e,o={userId:t},E.put("api/lesson/like/".concat(r),o);case 3:s=n.sent,c=s.data,a({type:g.LIKE,payload:c}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case 12:case"end":return n.stop()}var r,o}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(e,t))};return l?Object(w.jsx)("div",{className:"page",children:Object(w.jsxs)("div",{className:pe.a.container,children:[Object(w.jsx)("h1",{children:l.title}),l.video.indexOf("youtube")?Object(w.jsx)("iframe",{className:pe.a.video,title:"Video",src:l.video}):Object(w.jsx)("video",{className:pe.a.video,title:"Video",src:l.video,controls:!0}),Object(w.jsx)("article",{className:pe.a.description,children:l.description}),j&&Object(w.jsxs)("div",{className:pe.a.toolbar,children:[-1!==l.likes.indexOf(j.id)?Object(w.jsx)("button",{className:pe.a.btn,onClick:d,children:Object(w.jsx)(te.a,{})}):Object(w.jsx)("button",{className:pe.a.btn,onClick:d,children:Object(w.jsx)(ae.a,{})}),j.id===l.authorId&&Object(w.jsxs)("div",{children:[Object(w.jsx)(r.b,{to:o,onClick:function(){var e;c((e=l._id,function(){var t=Object(x.a)(m.a.mark((function t(n){var a,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:g.DELETE}),t.next=4,R(e);case 4:a=t.sent,s=a.data,n({type:g.DELETE_SUCCESS,payload:s}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:g.DELETE_ERROR,payload:"\u0423\u0440\u043e\u043a \u043d\u0435 \u0443\u0434\u0430\u043b\u0435\u043d"});case 12:case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())),alert("\u0423\u0440\u043e\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d!")},children:Object(w.jsx)("button",{className:pe.a.btn,children:Object(w.jsx)(ce.a,{})})}),Object(w.jsx)("button",{className:pe.a.btn,onClick:function(){return s(!n)},children:Object(w.jsx)(oe.a,{})}),n&&Object(w.jsxs)("div",{className:pe.a.modal,children:[Object(w.jsx)("button",{className:pe.a.close,onClick:function(){return s(!1)},children:Object(w.jsx)(le.a,{})}),Object(w.jsx)($,{id:l._id,title:l.title,description:l.description,poster:l.poster})]})]})]})]})}):Object(w.jsx)("div",{className:"page",children:Object(w.jsx)("h2",{children:"\u0423\u0440\u043e\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"})})};!function(e){e.LOGIN="LOGIN",e.LOGIN_SUCCESS="LOGIN_SUCCES",e.LOGIN_ERROR="LOGIN_ERROR",e.REGISTRATION="REGISTRATION",e.REGISTRATION_SUCCESS="REGISTRATION_SUCCES",e.REGISTRATION_ERROR="REGISTRATION_ERROR",e.LOGOUT="LOGOUT"}(Y||(Y={}));var de,be=n(15),Oe=n.n(be);!function(e){e.email="email",e.password="password"}(de||(de={}));var he,fe={email:"",password:""},me=function(e){var t=e.setPage,n=e.registration,s=Object(O.b)(),c=Object(a.useState)(fe),r=Object(z.a)(c,2),o=r[0],i=r[1],l=function(e){i(Object(Z.a)(Object(Z.a)({},o),{},Object(Q.a)({},e.target.name,e.target.value)))};return Object(w.jsxs)("form",{className:Oe.a.form,autoComplete:"off",onSubmit:function(e){var t;e.preventDefault(),s((t=o,function(){var e=Object(x.a)(m.a.mark((function e(n){var a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t);case 3:a=e.sent,s=a.data,localStorage.setItem("token",s.accessToken),n({type:Y.LOGIN_SUCCESS,payload:s}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:Y.LOGIN_ERROR,payload:e.t0});case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(w.jsx)("h2",{children:"\u0412\u0445\u043e\u0434"}),Object(w.jsx)("input",{className:Oe.a.input,placeholder:"Email",onChange:l,name:de.email}),Object(w.jsx)("input",{className:Oe.a.input,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:l,name:de.password}),Object(w.jsx)("button",{className:Oe.a.button,type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(w.jsx)("p",{className:Oe.a.link,onClick:function(){t(n)},children:" \u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?"})]})};!function(e){e.firstName="firstName",e.lastName="lastName",e.email="email",e.password="password"}(he||(he={}));var xe,_e={firstName:"",lastName:"",email:"",password:""},ve=function(e){var t=e.setPage,n=e.login,s=Object(O.b)(),c=Object(a.useState)(_e),r=Object(z.a)(c,2),o=r[0],i=r[1],l=function(e){i(Object(Z.a)(Object(Z.a)({},o),{},Object(Q.a)({},e.target.name,e.target.value)))};return Object(w.jsxs)("form",{className:Oe.a.form,autoComplete:"off",onSubmit:function(e){e.preventDefault(),s(function(e){return function(){var t=Object(x.a)(m.a.mark((function t(n){var a,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(e);case 3:a=t.sent,s=a.data,localStorage.setItem("token",s.accessToken),n({type:Y.REGISTRATION_SUCCESS,payload:s}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:Y.REGISTRATION_ERROR,payload:t.t0});case 12:case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(o))},children:[Object(w.jsx)("h2",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(w.jsx)("input",{className:Oe.a.input,placeholder:"\u0418\u043c\u044f",onChange:l,name:he.firstName}),Object(w.jsx)("input",{className:Oe.a.input,placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",onChange:l,name:he.lastName}),Object(w.jsx)("input",{className:Oe.a.input,placeholder:"Email",onChange:l,name:he.email}),Object(w.jsx)("input",{className:Oe.a.input,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:l,name:he.password}),Object(w.jsx)("button",{className:Oe.a.button,type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(w.jsx)("p",{className:Oe.a.link,onClick:function(){t(n)},children:" \u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"})]})};!function(e){e.login="login",e.registration="registration"}(xe||(xe={}));var Ee,ge=xe.login,Ce=n(33),Ne=n.n(Ce);!function(e){e.title="title",e.description="description",e.poster="poster",e.video="video",e.tags="tags"}(Ee||(Ee={}));var Re={title:"",description:"",poster:"",video:"",tags:"",authorName:"",authorId:""},Se=[{path:o,component:M},{path:i,component:je},{path:p,component:function(){var e=Object(a.useState)(ge),t=Object(z.a)(e,2),n=t[0],s=t[1];return n===xe.login?Object(w.jsx)("div",{className:"page",children:Object(w.jsx)("div",{className:Oe.a.container,children:Object(w.jsx)(me,{setPage:s,registration:xe.registration})})}):Object(w.jsx)("div",{className:"page",children:Object(w.jsx)("div",{className:Oe.a.container,children:Object(w.jsx)(ve,{setPage:s,login:xe.login})})})}}],ye=[{path:o,component:M},{path:i,component:je},{path:l,component:function(){var e=h((function(e){return e.lessons})),t=e.lessons,n=e.loading,s=e.error,c=h((function(e){var t;return null===(t=e.auth.auth)||void 0===t?void 0:t.user})),r=Object(O.b)();return Object(a.useEffect)((function(){r(L({field:"likes",value:c.id}))}),[r,c]),n?Object(w.jsx)("div",{className:"page",children:Object(w.jsx)(F,{})}):s?Object(w.jsx)(U,{text:s}):Object(w.jsxs)("div",{className:"page",children:[Object(w.jsx)("h2",{children:"\u041f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c"}),Object(w.jsx)("div",{className:B.a.container,children:t.length>0?t.map((function(e){return Object(w.jsx)(V,{lesson:e},e._id)})):Object(w.jsx)("div",{children:Object(w.jsx)("h5",{children:"\u0422\u0443\u0442 \u043f\u0443\u0441\u0442\u043e :("})})})]})}},{path:u,component:function(){var e=h((function(e){return e.lessons})),t=e.lessons,n=e.loading,s=e.error,c=h((function(e){var t;return null===(t=e.auth.auth)||void 0===t?void 0:t.user})),r=Object(O.b)();return Object(a.useEffect)((function(){r(L({field:"views",value:c.id}))}),[r,c]),n?Object(w.jsx)("div",{className:"page",children:Object(w.jsx)(F,{})}):s?Object(w.jsx)(U,{text:s}):Object(w.jsxs)("div",{className:"page",children:[Object(w.jsx)("h2",{children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),Object(w.jsx)("div",{className:B.a.container,children:t.length>0?t.map((function(e){return Object(w.jsx)(V,{lesson:e},e._id)})):Object(w.jsx)("div",{children:Object(w.jsx)("h5",{children:"\u0422\u0443\u0442 \u043f\u0443\u0441\u0442\u043e :("})})})]})}},{path:"/me",component:function(){var e=h((function(e){return e.auth.auth.user})),t=h((function(e){return e.lessons})),n=t.lessons,s=t.loading,c=t.error,r=Object(O.b)();return Object(a.useEffect)((function(){r(L({field:"authorId",value:e.id}))}),[r,e]),s?Object(w.jsx)("div",{className:"page",children:Object(w.jsx)(F,{})}):c?Object(w.jsx)(U,{text:c}):Object(w.jsxs)("div",{className:"page",children:[Object(w.jsx)("h2",{children:e.firstName+" "+e.lastName+": "+e.email}),Object(w.jsx)("div",{className:B.a.container,children:n.length>0?n.map((function(e){return Object(w.jsx)(V,{lesson:e},e._id)})):Object(w.jsx)("div",{children:Object(w.jsx)("h5",{children:"\u0422\u0443\u0442 \u043f\u0443\u0441\u0442\u043e :("})})})]})}},{path:j,component:function(){var e=Object(O.b)(),t=Object(a.useState)(Re),n=Object(z.a)(t,2),s=n[0],c=n[1],r=h((function(e){return e.auth.auth.user})),o=h((function(e){return e.lessons.loading})),i=function(e){return e.replace("watch?v=","embed/").split("&")[0]},l=function(e){c(Object(Z.a)(Object(Z.a)({},s),{},Object(Q.a)({},e.target.name,e.target.value)))};return o?Object(w.jsx)("div",{className:"page",children:"Loading..."}):Object(w.jsx)("div",{className:"page",children:Object(w.jsxs)("form",{className:Ne.a.form,onSubmit:function(t){var n;t.preventDefault(),e((n=Object(Z.a)(Object(Z.a)({},s),{},{authorId:r.id,authorName:r.firstName+" "+r.lastName,video:i(s.video)}),function(){var e=Object(x.a)(m.a.mark((function e(t){var a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g.CREATE}),e.next=4,S(n);case 4:a=e.sent,s=a.data,t({type:g.CREATE_SUCCESS,payload:s}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:g.CREATE_ERROR,payload:"\u0423\u0440\u043e\u043a \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d"});case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(w.jsx)("h2",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0440\u043e\u043a"}),Object(w.jsx)("input",{className:Ne.a.input,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:l,name:Ee.title}),Object(w.jsx)("input",{className:Ne.a.input,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",onChange:l,name:Ee.description}),Object(w.jsx)("input",{className:Ne.a.input,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u043e\u0441\u0442\u0435\u0440",onChange:l,name:Ee.poster}),Object(w.jsx)("input",{className:Ne.a.input,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e",onChange:l,name:Ee.video}),Object(w.jsx)("input",{className:Ne.a.input,placeholder:"\u0422\u0435\u0433\u0438",onChange:l,name:Ee.tags}),Object(w.jsx)("button",{className:Ne.a.button,type:"submit",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})})}}],Te=n(11),ke=function(){return h((function(e){return e.auth.isAuth}))?Object(w.jsxs)(Te.d,{children:[ye.map((function(e){return Object(w.jsx)(Te.b,{exact:!0,path:e.path,component:e.component},"{route}")})),";",Object(w.jsx)(Te.a,{to:o})]}):Object(w.jsxs)(Te.d,{children:[Se.map((function(e){return Object(w.jsx)(Te.b,{exact:!0,path:e.path,component:e.component},"{route}")})),";",Object(w.jsx)(Te.a,{to:o})]})},Ae=n(115),Le=n.n(Ae),Ie=n(113),we=n.n(Ie),Ue=n(114),He=n.n(Ue),De=n(38),Fe=n.n(De),Ge=n(112),Pe=n.n(Ge),Ke=n(68),Je=n.n(Ke),Ve=function(){var e=Object(O.b)(),t=Object(a.useState)(""),n=Object(z.a)(t,2),s=n[0],c=n[1];return Object(w.jsxs)("form",{className:Je.a.form,onSubmit:function(t){t.preventDefault();var n=s.split(" ");e(function(e){return function(){var n=Object(x.a)(m.a.mark((function n(a){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{a({type:g.SEARCH,payload:e})}catch(t){console.log(t)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n))},children:[Object(w.jsx)("input",{className:Je.a.input,type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a",onChange:function(e){c(e.target.value)}}),Object(w.jsx)("button",{className:Je.a.button,type:"submit",children:Object(w.jsx)(Pe.a,{})})]})},qe=function(){var e=Object(O.b)(),t=h((function(e){var t;return null===(t=e.auth.auth)||void 0===t?void 0:t.user})),n=function(){e(function(){var e=Object(x.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.post("/auth/signout");case 3:localStorage.removeItem("token"),t({type:Y.LOGOUT}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())};return Object(w.jsxs)("header",{className:Fe.a.header,children:[Object(w.jsxs)("h1",{className:Fe.a.logo,children:[Object(w.jsx)(we.a,{}),"eduplatform"]}),Object(w.jsx)("div",{className:Fe.a.search,children:Object(w.jsx)(Ve,{})}),t?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h3",{className:Fe.a.username,children:t.firstName}),Object(w.jsx)("button",{className:Fe.a.log,onClick:function(){n()},children:Object(w.jsx)(Le.a,{})})]}):Object(w.jsx)(r.b,{className:Fe.a.log,to:p,children:Object(w.jsx)(He.a,{})})]})},Be=(n(195),n(49)),Me=n.n(Be),ze=function(e){var t=e.path,n=e.text,a=e.Icon;return Object(w.jsx)(r.b,{to:t,children:Object(w.jsxs)("button",{className:Me.a.navlink,title:n,children:[Object(w.jsx)(a,{}),Object(w.jsx)("h3",{className:Me.a.text,children:n})]})})},Qe=n(80),Ze=n.n(Qe),We=n(116),Xe=n.n(We),Ye=n(119),$e=n.n(Ye),et=n(117),tt=n.n(et),nt=n(118),at=n.n(nt),st=function(){var e=h((function(e){return e.auth.isAuth}))?[{path:o,text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",component:Ze.a},{path:"/me",text:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",component:Xe.a},{path:l,text:"\u041f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c",component:tt.a},{path:u,text:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",component:at.a},{path:j,text:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u0440\u043e\u043a",component:$e.a}]:[{path:o,text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",component:Ze.a}];return Object(w.jsx)("div",{className:Me.a.navlinks,children:e.map((function(e){return Object(w.jsx)(ze,{path:e.path,text:e.text,Icon:e.component},e.path)}))})},ct=n(120),rt=n.n(ct),ot=function(){return Object(w.jsx)("div",{className:rt.a.nav,children:Object(w.jsx)(st,{})})},it=function(){var e=Object(O.b)();return Object(a.useEffect)((function(){localStorage.getItem("token")&&e(function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("https://pure-woodland-99054.herokuapp.com/auth/refresh",{withCredentials:!0});case 3:n=e.sent,localStorage.setItem("token",n.data.accessToken),t({type:Y.LOGIN_SUCCESS,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:Y.LOGIN_ERROR,payload:e.t0});case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(w.jsx)(r.a,{children:Object(w.jsxs)("div",{className:"app-container",children:[Object(w.jsx)(qe,{}),Object(w.jsx)(ot,{}),Object(w.jsx)(ke,{})]})})},lt=n(121),ut=n(50),pt={lessons:[],loading:!1,error:null},jt={lesson:null,loading:!1,error:null},dt={isAuth:!1,auth:null,error:null},bt=Object(ut.b)({lessons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.FETCH_ALL:case g.CREATE:case g.DELETE:return{lessons:e.lessons,loading:!0,error:null};case g.FETCH_ALL_SUCCESS:return{lessons:t.payload,loading:!1,error:null};case g.CREATE_SUCCESS:return e.lessons.push(t.payload),{lessons:e.lessons,loading:!1,error:null};case g.DELETE_SUCCESS:var n=e.lessons.indexOf(t.payload);return delete e.lessons[n],{lessons:e.lessons,loading:!1,error:null};case g.FETCH_ALL_ERROR:case g.CREATE_ERROR:case g.DELETE_ERROR:return{lessons:e.lessons,loading:!1,error:t.payload};case g.SEARCH:console.log(t.payload);var a=e.lessons.filter((function(e){for(var n=0;n<t.payload.length;n++)if(console.log(t.payload[n]+" in "+e.tags),-1!==e.tags.indexOf(t.payload[n]))return!0;return!1}));return console.log(a),{lessons:a,loading:!1,error:null};default:return e}},lesson:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.FETCH_ONE:case g.UPDATE:return{lesson:null,loading:!0,error:null};case g.FETCH_ONE_SUCCESS:case g.UPDATE_SUCCESS:case g.LIKE:return{lesson:t.payload,loading:!1,error:null};case g.FETCH_ONE_ERROR:case g.UPDATE_ERROR:return{lesson:null,loading:!1,error:t.payload};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.LOGIN_SUCCESS:case Y.REGISTRATION_SUCCESS:return{isAuth:!0,auth:t.payload,error:null};case Y.LOGIN_ERROR:case Y.REGISTRATION_ERROR:return{isAuth:!1,auth:null,error:t.payload};case Y.LOGOUT:return{isAuth:!1,auth:null,error:null};default:return e}}}),Ot=Object(ut.c)(bt,Object(ut.a)(lt.a));c.a.render(Object(w.jsx)(O.a,{store:Ot,children:Object(w.jsx)(it,{})}),document.getElementById("root"))},24:function(e,t,n){e.exports={container:"styles_container__3-Iww",video:"styles_video__2rASi",description:"styles_description__1xLUd",toolbar:"styles_toolbar__3mNmQ",btn:"styles_btn__1VO-n",modal:"styles_modal__2dlRI",close:"styles_close__1mj51"}},31:function(e,t,n){e.exports={wrapper:"styles_wrapper__1SxrA",poster:"styles_poster__2qb3H",title:"styles_title__w4g_I",creator:"styles_creator__2TjFU",date:"styles_date__1nnmS",tags:"styles_tags__3-OmJ",tag:"styles_tag__cOx8g"}},32:function(e,t,n){e.exports={container:"styles_container__1Rt7J"}},33:function(e,t,n){e.exports={form:"styles_form__3rXeO",input:"styles_input__1aag3",button:"styles_button__33zMv"}},38:function(e,t,n){e.exports={header:"styles_header__3oMPk",logo:"styles_logo__ymKe9",search:"styles_search__3CSEe",username:"styles_username__3BOb8",log:"styles_log__f7IMK"}},44:function(e,t,n){e.exports={form:"styles_form__1cKh-",input:"styles_input__24Hye",button:"styles_button__wbBIe"}},49:function(e,t,n){e.exports={navlinks:"styles_navlinks__RxYUH",navlink:"styles_navlink__3fJjM",text:"styles_text__2EQHl"}},68:function(e,t,n){e.exports={form:"styles_form__1261W",input:"styles_input__1Puc8",button:"styles_button__qgCdL"}}},[[196,1,2]]]);
//# sourceMappingURL=main.7d4765bf.chunk.js.map