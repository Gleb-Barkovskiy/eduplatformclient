{"version":3,"sources":["components/Navbar/NavMenu/styles.module.scss","components/Auth/styles.module.scss","router/consts.tsx","hooks/useTypedSelector.ts","store/api/index.ts","store/lessons/actions/actionTypes.ts","store/lessons/actions/lessonsActions.ts","components/UpdateLesson/UpdateLesson.tsx","components/Errors/FetchingError/FetchingError.tsx","components/Loading/Loader.tsx","components/Lessons/LessonsItem/LessonItem.tsx","components/Lessons/Lessons/Lessons.tsx","store/auth/actions/actionTypes.ts","components/Lesson/Lesson.tsx","store/auth/actions/authActions.ts","components/Auth/Login.tsx","components/Auth/Registration.tsx","components/Auth/Auth.tsx","components/CreateLesson/CreateLessonPage.tsx","router/routes.tsx","components/Favorite/Favorite.tsx","components/History/History.tsx","components/Profile/Profile.tsx","router/ClientRouter.tsx","components/Search/SearchField.tsx","components/Navbar/Navbar.tsx","components/Navbar/NavLinks/NavButtonLink.tsx","components/Navbar/NavLinks/NavLinks.tsx","components/Navbar/NavMenu/NavMenu.tsx","App.tsx","store/lessons/reducer/lessonsReducer.ts","store/lessons/reducer/lessonReducer.ts","store/auth/reducer/authReducer.ts","store/index.ts","index.tsx","components/Lesson/styles.module.scss","components/Lessons/LessonsItem/styles.module.scss","components/Lessons/Lessons/styles.module.scss","components/CreateLesson/styles.module.scss","components/Navbar/styles.module.scss","components/UpdateLesson/styles.module.scss","components/Navbar/NavLinks/styles.module.scss","components/Search/styles.module.scss"],"names":["module","exports","LESSONS_ROUTE","LESSON_DETAILS_ROUTE","FAVORITES_ROUTE","HISTORY_ROUTE","AUTH_ROUTE","CREATE_ROUTE","useTypedSelector","useSelector","API","axios","create","withCredentials","baseURL","interceptors","request","use","config","headers","Authorization","localStorage","getItem","response","error","a","originalReq","status","_isRetry","get","res","setItem","data","accessToken","actionTypes","getLessons","filter","field","value","getLesson","id","userId","deleteLesson","delete","createLesson","lesson","post","updateLesson","updatedData","put","signUpUser","userData","signInUser","newLessonFields","dispatch","type","FETCH_ALL","api","FETCH_ALL_SUCCESS","payload","FETCH_ALL_ERROR","FETCH_ONE","_id","FETCH_ONE_SUCCESS","FETCH_ONE_ERROR","FetchingError","text","Loader","Box","CircularProgress","color","LessonItem","useDispatch","user","state","auth","className","styles","wrapper","to","onClick","poster","width","height","src","alt","info","title","creator","authorName","date","moment","createdAt","fromNow","tags","map","tag","Lessons","lessons","loading","useEffect","container","length","UpdateLesson","description","useState","lessonData","setLessonData","handleChange","e","target","name","form","onSubmit","preventDefault","UPDATE","UPDATE_SUCCESS","UPDATE_ERROR","input","placeholder","onChange","defaultValue","button","Lesson","isModalOpen","setModalOpen","handleLike","lessonId","LIKE","console","log","likeLesson","video","indexOf","controls","toolbar","likes","btn","authorId","DELETE","DELETE_SUCCESS","DELETE_ERROR","alert","modal","close","loginInputNames","userInputNames","initialState","email","password","Login","setPage","registration","loginData","setLoginData","autoComplete","LOGIN_SUCCESS","LOGIN_ERROR","link","authPages","firstName","lastName","Registration","login","setUserData","REGISTRATION_SUCCESS","REGISTRATION_ERROR","publicRoutes","path","component","page","privateRoutes","linkToEmbed","replace","split","CREATE","CREATE_SUCCESS","CREATE_ERROR","ClientRouter","isAuth","route","exact","SearchField","setText","SEARCH","searchLessons","Navbar","logout","removeItem","LOGOUT","header","logo","search","username","NavButtonLink","Icon","navlink","NavLinks","currentLinks","HomeOutlinedIcon","FaceOutlinedIcon","FavoriteBorderOutlinedIcon","VisibilityOutlinedIcon","AddIcon","navlinks","NavMenu","nav","App","rootReducer","combineReducers","action","push","pos","result","i","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7d4765bf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"styles_nav__3gboZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3bndJ\",\"form\":\"styles_form__1ag2L\",\"input\":\"styles_input__2qKnd\",\"button\":\"styles_button__2spNA\",\"link\":\"styles_link__3hCmZ\"};","//public\nexport const LESSONS_ROUTE: string = '/'\nexport const LESSON_DETAILS_ROUTE: string = '/lesson';\nexport const FAVORITES_ROUTE: string = '/favorite'\nexport const HISTORY_ROUTE: string = '/history';\n//auth\nexport const AUTH_ROUTE: string = '/auth';\n//private\nexport const CREATE_ROUTE: string = '/create';\nexport const PROFILE_ROUTE: string = '/me';","import { TypedUseSelectorHook, useSelector } from 'react-redux';\nimport { RootState } from '../store/index';\n\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;","import axios from 'axios';\nimport { SignInData, SignUpData } from './../auth/types/types';\nimport { newLessonData, updateLessonData, Filter } from './../lessons/types/types';\n\nconst API = axios.create({ withCredentials: true, baseURL: 'https://pure-woodland-99054.herokuapp.com/'});\n\nAPI.interceptors.request.use(config => {\n    config.headers.Authorization = `Bearer ${localStorage.getItem('token')}`;\n    return config;\n});\n\nAPI.interceptors.response.use(config => {\n    return config;\n}, async error => {\n    const originalReq = error.config;\n    if(error.response.status === 401 && error.config && !error.config._isRetry){\n        try {\n            const res = await axios.get('https://pure-woodland-99054.herokuapp.com/auth/refresh', {withCredentials: true});\n            localStorage.setItem('token', res.data.accessToken);\n            return API.request(originalReq);\n        } catch (e) {\n            return 'Пользователь не авторизован';\n        };\n    };\n    throw error;\n});\n\n// lessons\nexport const getLessons = (filter?: Filter) => API.get(`api/lessons/${filter?.field || ''}${filter?.value || ''}`);\n\n//lesson\nexport const getLesson = (id: string, userId?: string) => API.get(`api/lesson/${id}${userId || ''}`);\nexport const deleteLesson = (id: string) => API.delete(`api/lesson/${id}`);\nexport const createLesson = (lesson: newLessonData) => API.post(`api/lesson/create`, lesson);\nexport const updateLesson = (id: string, updatedData: updateLessonData) => API.put(`api/lesson/update/${id}`, updatedData);\nexport const likeLesson = (id: string, user: object) => API.put(`api/lesson/like/${id}`, user);\n\n\n// auth\nexport const signUpUser = (userData: SignUpData) => API.post(`/auth/signup`, userData);\nexport const signInUser = (userData: SignInData) => API.post(`/auth/signin`, userData);\nexport const signOutUser = () => API.post(`/auth/signout`);","export enum actionTypes {\n    FETCH_ALL = 'FETCH_ALL',\n    FETCH_ALL_SUCCESS = 'FETCH_ALL_SUCCESS',\n    FETCH_ALL_ERROR = 'FETCH_ALL_ERROR',\n    FETCH_ONE = 'FETCH_ONE',\n    FETCH_ONE_SUCCESS = 'FETCH_ONE_SUCCESS',\n    FETCH_ONE_ERROR = 'FETCH_ONE_ERROR',  \n    UPDATE = 'UPDATE',\n    UPDATE_SUCCESS = 'UPDATE_SUCCESS',\n    UPDATE_ERROR = 'UPDATE_ERROR',\n    DELETE = 'DELETE',\n    DELETE_SUCCESS = 'DELETE_SUCCESS',\n    DELETE_ERROR = 'DELETE_ERROR',\n    CREATE = 'CREATE',\n    CREATE_SUCCESS = 'CREATE_SUCCESS',\n    CREATE_ERROR = 'CREATE_ERROR',\n    LIKE = 'LIKE',\n    SEARCH = 'SEARCH',\n}","import { Dispatch } from 'redux';\nimport * as api from '../../api/index';\nimport { lessonsAction } from '../types/types';\nimport {actionTypes} from './actionTypes';\nimport { newLessonData, updateLessonData, Filter } from './../types/types';\n\nexport const getLessons = (filter?:Filter) => async (dispatch: Dispatch<lessonsAction>) => {\n    try {\n        dispatch({ type: actionTypes.FETCH_ALL });\n        if(filter) {\n            filter.field += '/';\n        };\n        const {data} = await api.getLessons(filter);\n        dispatch({ type: actionTypes.FETCH_ALL_SUCCESS, payload: data});\n    } catch (e) {\n        dispatch({ type: actionTypes.FETCH_ALL_ERROR, payload: 'Уроки не загружены, проверьте подключение к интернету'});\n    };\n};\n\nexport const getLesson = (id: string, value?:string) => async (dispatch: Dispatch<lessonsAction>) => {\n    try {\n        dispatch({ type: actionTypes.FETCH_ONE });\n        if(value) {\n            value = '/' + value;\n        };\n        const {data} = await api.getLesson(id, value);\n        localStorage.setItem('lesson', data._id);\n        dispatch({ type: actionTypes.FETCH_ONE_SUCCESS, payload: data});\n    } catch (e) {\n        dispatch({ type: actionTypes.FETCH_ONE_ERROR, payload: 'Урок не загружен, проверьте подключение к интернету'});\n    };\n};\n\nexport const createLesson = (lesson: newLessonData) => async (dispatch: Dispatch<lessonsAction>) => {\n    try {\n        dispatch({ type: actionTypes.CREATE });\n        const {data} = await api.createLesson(lesson);\n        dispatch({ type: actionTypes.CREATE_SUCCESS, payload: data});\n    } catch (e) {\n        dispatch({ type: actionTypes.CREATE_ERROR, payload: 'Урок не создан'});\n    };\n};\n\nexport const updateLesson = (id: string, updatedData: updateLessonData) => async (dispatch: Dispatch<lessonsAction>) => {\n    try {\n        dispatch({ type: actionTypes.UPDATE });\n        const {data} = await api.updateLesson(id, updatedData);\n        dispatch({ type: actionTypes.UPDATE_SUCCESS, payload: data});\n    } catch (e) {\n        dispatch({ type: actionTypes.UPDATE_ERROR, payload: 'Урок не обновлен'});\n    };\n};\n\nexport const likeLesson = (lessonId: string, userId: string) => async (dispatch: Dispatch<lessonsAction>) => {\n    try {\n        const {data} = await api.likeLesson(lessonId, {userId});\n        dispatch({ type: actionTypes.LIKE, payload: data});\n    } catch (e) {\n        console.log(e);\n    };\n};\n\n\nexport const deleteLesson = (id: string) => async (dispatch: Dispatch<lessonsAction>) => {\n    try {\n        dispatch({ type: actionTypes.DELETE });\n        const {data} = await api.deleteLesson(id);\n        dispatch({ type: actionTypes.DELETE_SUCCESS, payload: data});\n    } catch (e) {\n        dispatch({ type: actionTypes.DELETE_ERROR, payload: 'Урок не удален'});\n    };\n};\n\nexport const searchLessons = (tags: string[]) => async (dispatch: Dispatch<lessonsAction>) => {\n    try {\n        dispatch({type: actionTypes.SEARCH, payload: tags})\n    } catch (e) {\n        console.log(e)\n    }\n}\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateLesson } from '../../store/lessons/actions/lessonsActions';\nimport styles from './styles.module.scss';\n\nenum newLessonFields {\n    title = 'title',\n    description = 'description',\n    poster = 'poster',\n};\n\n\nexport const UpdateLesson: React.FC<{id: string, title: string, description: string, poster: string}> = ({\n    id,\n    title, \n    description, \n    poster}\n) => {\n\n    const dispatch = useDispatch();\n\n    const [lessonData, setLessonData] = useState({title, description, poster});\n\n    const handleSubmit = (e: React.ChangeEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        dispatch(updateLesson(id, lessonData));\n    };\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\n        setLessonData({ ...lessonData, [e.target.name]: e.target.value });\n    };\n\n    return (\n        <form className={styles.form} onSubmit={handleSubmit}>\n            <h3>Изменить</h3>\n            <input\n                className={styles.input}\n                placeholder=\"Название\"\n                onChange={handleChange}\n                name={newLessonFields.title}\n                defaultValue={title}\n            />\n             <input\n                className={styles.input}\n                placeholder=\"Описание\"\n                onChange={handleChange}\n                name={newLessonFields.description}\n                defaultValue={description}\n            />\n            <input\n                className={styles.input}\n                placeholder=\"Ссылка на постер\"\n                onChange={handleChange}\n                name={newLessonFields.poster}\n                defaultValue={poster}\n            />\n            <button className={styles.button} type=\"submit\">\n                Готово\n            </button>\n        </form>\n    );\n};","import React from 'react';\n\nexport const FetchingError: React.FC<{text: string}> = ({text}) => {\n    return (\n        <div>\n\n        </div>\n    );\n};\n","import { Box, CircularProgress } from '@material-ui/core';\nimport React from 'react'\n\nexport const Loader: React.FC = () => {\n\n    return (\n        <Box>\n            <CircularProgress color=\"primary\" />\n        </Box>\n    );\n};\n","import React from 'react';\nimport { LessonObject } from \"../../../store/lessons/types/types\";\nimport { useDispatch } from 'react-redux';\nimport { getLesson } from '../../../store/lessons/actions/lessonsActions';\nimport { NavLink } from 'react-router-dom';\nimport { LESSON_DETAILS_ROUTE } from '../../../router/consts';\nimport styles from './styles.module.scss';\nimport moment from 'moment';\nimport { useTypedSelector } from '../../../hooks/useTypedSelector';\n\n\nexport const LessonItem:React.FC<{lesson: LessonObject}> = ({lesson}) => {\n\n    const dispatch = useDispatch();\n\n    const user = useTypedSelector(state => state.auth.auth?.user);\n\n    const openLessonDetails = () => {\n        dispatch(getLesson(lesson._id, user?.id));\n    };\n\n    return (\n            <div className={styles.wrapper}>\n                <NavLink to={LESSON_DETAILS_ROUTE} onClick={openLessonDetails}>\n                <div className={styles.poster}>\n                    <img width=\"300px\" height=\"200px\" src={lesson.poster} alt=\"lesson_image\"/>\n                </div>\n                <div className={styles.info}>\n                    <div className={styles.title}>\n                        {lesson.title}\n                    </div>\n                    <div className={styles.creator}>\n                        {lesson.authorName}\n                    </div>\n                    <div className={styles.date}>\n                        {moment(lesson.createdAt).fromNow()}\n                    </div>\n                    <div className={styles.tags}>\n                        {lesson.tags.map(tag => (\n                            <div key={tag} className={styles.tag}>\n                                {tag}\n                            </div>\n                        ))}\n                    </div>\n                </div>\n                </NavLink>\n            </div>\n    );\n};\n","import WarningIcon from '@material-ui/icons/Warning';\nimport React, { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useTypedSelector } from \"../../../hooks/useTypedSelector\";\nimport { getLessons } from \"../../../store/lessons/actions/lessonsActions\";\nimport { FetchingError } from \"../../Errors/FetchingError/FetchingError\";\nimport { Loader } from \"../../Loading/Loader\";\nimport { LessonItem } from \"../LessonsItem/LessonItem\";\nimport styles from './styles.module.scss';\n\nexport const Lessons: React.FC = () => {\n\n  const { lessons, loading, error } = useTypedSelector(\n    (state) => state.lessons\n  );\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getLessons());\n  }, [dispatch]);\n\n  if (loading) {\n    return <div className=\"page\"><Loader/></div>;\n  }\n\n  if (error) {\n    return <FetchingError text={error}/>;\n  }\n\n  return (\n      <div className=\"page\">\n        <h2>Главная</h2>\n        <div className={styles.container}>\n        {lessons.length > 0 ? lessons.map((lesson) => (\n          <LessonItem key={lesson._id} lesson={lesson} />\n        )) : (\n          <div>\n            <WarningIcon/>\n            <h5>\n              Тут пусто :(\n            </h5>\n          </div>\n        )}\n        </div>\n      </div>\n  );\n};\n","export enum actionTypes {\n    LOGIN = 'LOGIN',\n    LOGIN_SUCCESS = 'LOGIN_SUCCES',\n    LOGIN_ERROR = 'LOGIN_ERROR',\n\n    REGISTRATION = 'REGISTRATION',\n    REGISTRATION_SUCCESS = 'REGISTRATION_SUCCES',\n    REGISTRATION_ERROR = 'REGISTRATION_ERROR',\n\n    LOGOUT = 'LOGOUT',\n}","import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\nimport { LESSONS_ROUTE } from '../../router/consts';\nimport { deleteLesson, getLesson, likeLesson } from '../../store/lessons/actions/lessonsActions';\nimport { FetchingError } from '../Errors/FetchingError/FetchingError';\nimport { UpdateLesson } from '../UpdateLesson/UpdateLesson';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport CloseIcon from '@material-ui/icons/Close';\nimport styles from './styles.module.scss';\n\nexport const Lesson:React.FC = () => {\n\n    const [isModalOpen, setModalOpen] = useState(false);\n\n    const dispatch = useDispatch();\n\n    const {lesson, loading, error} = useTypedSelector(state => state.lesson);\n    const user = useTypedSelector(state => state.auth.auth?.user);\n\n    useEffect(() => {\n        if(localStorage.getItem('lesson') && !loading && !lesson) {\n            dispatch(getLesson(localStorage.getItem('lesson')!, user?.id));\n        };\n    }, [dispatch, lesson, loading, user]);\n\n    if (loading) {\n        return <h4>Загрузка...</h4>;\n    };\n    if (error) {\n        return <FetchingError text={error}/>;\n    };\n\n    const deleteThisLesson = () => {\n        dispatch(deleteLesson(lesson!._id));\n        alert('Урок успешно удален!');\n    };\n\n    const handleLike = () => {\n       const lessonId = lesson!._id;\n       const userId = user!.id;\n       dispatch(likeLesson(lessonId, userId));\n    };\n\n    return lesson ? (\n        <div className=\"page\">\n            <div className={styles.container}>\n                <h1>{lesson.title}</h1>\n                {lesson.video.indexOf('youtube') ? (\n                    <iframe \n                        className={styles.video}\n                        title=\"Video\"\n                        src={lesson.video}>\n                    </iframe>\n                ) : (\n                    <video\n                        className={styles.video}\n                        title=\"Video\"\n                        src={lesson.video}\n                        controls={true}\n                    >\n                    </video>\n                )}\n                <article className={styles.description}>\n                    {lesson.description}\n                </article>\n                {user && (\n                <div className={styles.toolbar}>\n                    {lesson.likes.indexOf(user.id) !== -1 ? (\n                        <button className={styles.btn} onClick={handleLike}>\n                            <FavoriteIcon/>    \n                        </button>\n                    ) : (\n                        <button className={styles.btn} onClick={handleLike}>\n                            <FavoriteBorderIcon/>\n                        </button>\n                    )}\n                    {user!.id === lesson.authorId && (\n                        <div>\n                            <NavLink to={LESSONS_ROUTE} onClick={deleteThisLesson}>\n                                <button className={styles.btn}>\n                                    <DeleteForeverIcon/>\n                                </button>\n                            </NavLink>\n                            <button className={styles.btn} onClick={() => setModalOpen(!isModalOpen)}>\n                                <SettingsIcon/>\n                            </button>\n                            {isModalOpen && (<div className={styles.modal}>\n                                <button className={styles.close} onClick={() => setModalOpen(false)}>\n                                    <CloseIcon/>\n                                </button>\n                            <UpdateLesson \n                            id={lesson._id}\n                            title={lesson.title} \n                            description={lesson.description} \n                            poster={lesson.poster}\n                            />\n                            </div>)}\n                        </div>\n                    )}\n                </div>)}\n            </div>\n        </div>\n    ) : (\n        <div className=\"page\">\n            <h2>Урок не найден</h2>\n        </div>\n    );\n};\n","import { userSignInAction, userSignOutAction, SignInData, SignUpData, userSignUpAction } from './../types/types';\nimport { Dispatch } from \"redux\";\nimport { actionTypes } from \"./actionTypes\";\nimport * as api from '../../api/index';\nimport axios from 'axios';\n\n\nexport const signInUser = (userData: SignInData) => async (dispatch: Dispatch<userSignInAction>) => {\n    try {\n        const {data} = await api.signInUser(userData);\n        localStorage.setItem('token', data.accessToken);\n        dispatch({ type: actionTypes.LOGIN_SUCCESS, payload: data});\n    } catch (e) {\n        dispatch({ type: actionTypes.LOGIN_ERROR, payload: e});\n    };\n};\n\nexport const signUpUser = (userData: SignUpData) => async (dispatch: Dispatch<userSignUpAction>) => {\n    try {\n        const {data} = await api.signUpUser(userData);\n        localStorage.setItem('token', data.accessToken);\n        dispatch({ type: actionTypes.REGISTRATION_SUCCESS, payload: data});\n    } catch (e) {\n        dispatch({ type: actionTypes.REGISTRATION_ERROR, payload: e});\n    };\n};\n\nexport const singOutUser = () => async (dispatch: Dispatch<userSignOutAction>) => {\n    try {\n        await api.signOutUser();\n        localStorage.removeItem('token');\n        dispatch({ type: actionTypes.LOGOUT});\n    } catch (e) {\n        console.log(e);\n    };\n};\n\nexport const checkAuth = () => async (dispatch: Dispatch<userSignInAction>) => {\n    try {\n        const res = await axios.get('https://pure-woodland-99054.herokuapp.com/auth/refresh', {withCredentials: true});\n        localStorage.setItem('token', res.data.accessToken);\n        dispatch({ type: actionTypes.LOGIN_SUCCESS, payload: res.data});\n    } catch(e) {\n        dispatch({ type: actionTypes.LOGIN_ERROR, payload: e});\n    };\n};","import React, { useState } from 'react';\nimport { useDispatch } from \"react-redux\";\nimport { signInUser } from \"../../store/auth/actions/authActions\";\nimport styles from './styles.module.scss';\n\nenum loginInputNames {\n    email = 'email', \n    password = 'password', \n};\ninterface loginFields {\n    email: string,\n    password: string\n};\nconst initialState:loginFields = {\n    email: '',\n    password: ''\n};\n\nexport const Login:React.FC<{setPage: Function, registration: string}> = ({setPage, registration}) => {\n\n    const dispatch = useDispatch();\n\n    const [loginData, setLoginData] = useState(initialState);\n\n    const handleSubmit = (e: React.ChangeEvent<HTMLFormElement>):void => {\n        e.preventDefault();\n        dispatch(signInUser(loginData));\n    };\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>):void => {\n        setLoginData({ ...loginData, [e.target.name]: e.target.value });\n    };\n\n    return (\n        <form className={styles.form} autoComplete=\"off\" onSubmit={handleSubmit}>\n            <h2>Вход</h2>\n            <input \n                className={styles.input}\n                placeholder='Email'\n                onChange={handleChange}\n                name={loginInputNames.email} \n            />\n            <input  \n                className={styles.input}\n                placeholder='Пароль' \n                onChange={handleChange}\n                name={loginInputNames.password}\n            />\n            <button className={styles.button} type=\"submit\"> \n                Войти\n            </button>\n            <p\n                className={styles.link}\n                onClick={() => {\n                        setPage(registration)\n                    }\n                }\n            > Нет аккаунта?\n            </p>  \n        </form>\n    );\n};\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { signUpUser } from \"../../store/auth/actions/authActions\";\nimport styles from './styles.module.scss';\n\nenum userInputNames {\n  firstName = \"firstName\",\n  lastName = \"lastName\",\n  email = \"email\",\n  password = \"password\",\n}\ninterface userFields {\n  firstName: string;\n  lastName: string;\n  email: string;\n  password: string;\n}\nconst initialState: userFields = {\n  firstName: \"\",\n  lastName: \"\",\n  email: \"\",\n  password: \"\",\n};\n\n\nexport const Registration: React.FC<{setPage: Function, login: string}> = ({setPage, login}) => {\n\n  const dispatch = useDispatch();\n\n  const [userData, setUserData] = useState(initialState);\n\n  const handleSubmit = (e: React.ChangeEvent<HTMLFormElement>): void => {\n    e.preventDefault();\n    dispatch(signUpUser(userData));\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\n    setUserData({ ...userData, [e.target.name]: e.target.value });\n  };\n\n  return (\n      <form className={styles.form} autoComplete=\"off\" onSubmit={handleSubmit}>\n          <h2>Регистрация</h2>\n          <input\n            className={styles.input}\n            placeholder=\"Имя\"\n            onChange={handleChange}\n            name={userInputNames.firstName}\n          />\n          <input\n            className={styles.input}\n            placeholder=\"Фамилия\"\n            onChange={handleChange}\n            name={userInputNames.lastName}\n          />\n          <input\n            className={styles.input}\n            placeholder=\"Email\"\n            onChange={handleChange}\n            name={userInputNames.email}\n          />\n          <input\n            className={styles.input}\n            placeholder=\"Пароль\"\n            onChange={handleChange}\n            name={userInputNames.password}\n          />\n          <button className={styles.button} type=\"submit\">\n            Зарегистрироваться\n          </button>\n          <p \n            className={styles.link}\n            onClick={() => {\n                setPage(login)\n            }}\n            > Уже есть аккаунт?\n          </p>\n      </form>\n  );\n};\n","import React, {useState} from 'react';\nimport { Login } from './Login';\nimport { Registration } from './Registration';\nimport styles from './styles.module.scss';\n\nexport enum authPages {\n    login = 'login',\n    registration = 'registration',\n};\n\nconst initialState = authPages.login;\n\nexport const Auth: React.FC = () => {\n\n    const [page, setPage] = useState(initialState);\n\n    return page === authPages.login ? (\n        <div className=\"page\">\n            <div className={styles.container}>\n                <Login setPage={setPage} registration={authPages.registration}/> \n            </div>\n         </div>\n    ) : (\n        <div className=\"page\">\n            <div className={styles.container}>\n                <Registration setPage={setPage} login={authPages.login}/>\n            </div>\n        </div>\n    );\n};\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\nimport { createLesson } from '../../store/lessons/actions/lessonsActions';\nimport { newLessonData } from '../../store/lessons/types/types';\nimport styles from './styles.module.scss';\n\nenum newLessonFields {\n    title = 'title',\n    description = 'description',\n    poster = 'poster',\n    video = 'video',\n    tags = 'tags',\n};\n\nconst initialState:newLessonData = {\n    title: '',\n    description: '',\n    poster: '',\n    video: '',\n    tags: '',\n    authorName: '',\n    authorId: '',\n};\n\n\nexport const CreateLessonPage:React.FC = () => {\n\n    const dispatch = useDispatch();\n\n    const [lessonData, setLessonData] = useState(initialState);\n\n    const user = useTypedSelector(state => state.auth.auth!.user);\n\n    const loading = useTypedSelector(state => state.lessons.loading);\n\n    const handleSubmit = (e: React.ChangeEvent<HTMLFormElement>): void  => {\n        e.preventDefault();\n        dispatch(createLesson({\n            ...lessonData, \n            authorId: user.id, \n            authorName: user.firstName + ' ' + user.lastName,\n            video: linkToEmbed(lessonData.video)\n        }));\n    };\n\n    const linkToEmbed = (link: string) => {\n        return link.replace('watch?v=', 'embed/').split('&')[0];\n    };\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setLessonData({ ...lessonData, [e.target.name]: e.target.value });\n    };\n\n    if(loading) {\n        return <div className=\"page\">Loading...</div>\n    };\n    return (\n        <div className=\"page\">\n          <form className={styles.form} onSubmit={handleSubmit}>\n            <h2>Создать новый урок</h2>\n            <input\n                className={styles.input}\n                placeholder=\"Название\"\n                onChange={handleChange}\n                name={newLessonFields.title}\n            />\n             <input\n                className={styles.input}\n                placeholder=\"Описание\"\n                onChange={handleChange}\n                name={newLessonFields.description}\n            />\n            <input\n                className={styles.input}\n                placeholder=\"Ссылка на постер\"\n                onChange={handleChange}\n                name={newLessonFields.poster}\n            />\n            <input\n                className={styles.input}\n                placeholder=\"Ссылка на видео\"\n                onChange={handleChange}\n                name={newLessonFields.video}\n            />\n             <input\n                className={styles.input}\n                placeholder=\"Теги\"\n                onChange={handleChange}\n                name={newLessonFields.tags}\n            />\n            <button className={styles.button} type=\"submit\">\n                Создать\n            </button>\n           </form>\n        </div>\n    );\n};\n","import React from 'react';\n// consts\nimport { AUTH_ROUTE, CREATE_ROUTE, LESSON_DETAILS_ROUTE, LESSONS_ROUTE, PROFILE_ROUTE, HISTORY_ROUTE, FAVORITES_ROUTE } from './consts';\n// components\nimport {Lessons} from '../components/Lessons/Lessons/Lessons';\nimport {Lesson} from '../components/Lesson/Lesson';\nimport {Auth} from '../components/Auth/Auth';\nimport {Profile} from '../components/Profile/Profile';\nimport {CreateLessonPage} from '../components/CreateLesson/CreateLessonPage';\nimport { Favorite } from '../components/Favorite/Favorite';\nimport { History } from '../components/History/History';\n\n\ninterface RouteType {\n    path: string,\n    component: React.FC\n};\n\n\nexport const publicRoutes:Array<RouteType> = [\n    {\n        path: LESSONS_ROUTE,\n        component: Lessons,\n    },\n    {\n        path: LESSON_DETAILS_ROUTE,\n        component: Lesson\n    },\n    {\n        path: AUTH_ROUTE,\n        component: Auth\n    },\n];\n\nexport const privateRoutes:Array<RouteType> = [\n    {\n        path: LESSONS_ROUTE,\n        component: Lessons\n    },\n    {\n        path: LESSON_DETAILS_ROUTE,\n        component: Lesson\n    },\n    {\n        path: FAVORITES_ROUTE,\n        component: Favorite\n    },\n    {\n        path: HISTORY_ROUTE,\n        component: History\n    },\n    {\n        path: PROFILE_ROUTE,\n        component: Profile\n    },\n    {\n        path: CREATE_ROUTE,\n        component: CreateLessonPage\n    }\n];","import React, { useEffect } from 'react'\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\nimport { FetchingError } from '../Errors/FetchingError/FetchingError';\nimport { LessonItem } from '../Lessons/LessonsItem/LessonItem';\nimport { Loader } from '../Loading/Loader';\nimport styles from '../Lessons/Lessons/styles.module.scss';\nimport { useDispatch } from 'react-redux';\nimport { getLessons } from '../../store/lessons/actions/lessonsActions';\n\nexport const Favorite: React.FC = () => {\n\n    const { lessons, loading, error } = useTypedSelector(\n        (state) => state.lessons\n    );\n\n    const user = useTypedSelector(state => state.auth.auth?.user);\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n      dispatch(getLessons({field: \"likes\", value: user!.id}));\n    }, [dispatch, user]);\n    \n    if (loading) {\n        return <div className=\"page\"><Loader/></div>;\n    }\n    \n    if (error) {\n        return <FetchingError text={error}/>;\n    }\n      \n    return (\n        <div className=\"page\">\n            <h2>Понравилось</h2>\n            <div className={styles.container}>\n        {lessons.length > 0 ? lessons.map((lesson) => (\n          <LessonItem key={lesson!._id} lesson={lesson} />\n        )) : (\n          <div>\n            <h5>\n              Тут пусто :(\n            </h5>\n          </div>\n        )}\n        </div>\n        </div>\n    );\n};\n","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\nimport { getLessons } from '../../store/lessons/actions/lessonsActions';\nimport { FetchingError } from '../Errors/FetchingError/FetchingError';\nimport { LessonItem } from '../Lessons/LessonsItem/LessonItem';\nimport { Loader } from '../Loading/Loader';\nimport styles from '../Lessons/Lessons/styles.module.scss';\nexport const History: React.FC = () => {\n    const { lessons, loading, error } = useTypedSelector(\n        (state) => state.lessons\n    );\n\n    const user = useTypedSelector(state => state.auth.auth?.user);\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n      dispatch(getLessons({field: \"views\", value: user!.id}));\n    }, [dispatch, user]);\n    \n    if (loading) {\n        return <div className=\"page\"><Loader/></div>;\n    }\n    \n    if (error) {\n        return <FetchingError text={error}/>;\n    }\n      \n    return (\n        <div className=\"page\">\n            <h2>История</h2>\n            <div className={styles.container}>\n        {lessons.length > 0 ? lessons.map((lesson) => (\n          <LessonItem key={lesson!._id} lesson={lesson} />\n        )) : (\n          <div>\n            <h5>\n              Тут пусто :(\n            </h5>\n          </div>\n        )}\n        </div>\n        </div>\n    );\n};\n","import React, { useEffect } from 'react'\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\nimport { LessonItem } from '../Lessons/LessonsItem/LessonItem';\nimport styles from '../Lessons/Lessons/styles.module.scss';\nimport { useDispatch } from 'react-redux';\nimport { getLessons } from '../../store/lessons/actions/lessonsActions';\nimport { FetchingError } from '../Errors/FetchingError/FetchingError';\nimport { Loader } from '../Loading/Loader';\n\nexport const Profile: React.FC = () => {\n\n    const user = useTypedSelector(state => state.auth.auth!.user);\n\n    const { lessons, loading, error } = useTypedSelector(\n        (state) => state.lessons\n      );\n    \n      const dispatch = useDispatch();\n    \n      useEffect(() => {\n        dispatch(getLessons({field: \"authorId\", value: user!.id}));\n      }, [dispatch, user]);\n    \n      if (loading) {\n        return <div className=\"page\"><Loader/></div>;\n      }\n    \n      if (error) {\n        return <FetchingError text={error}/>;\n      }\n\n    return (\n        <div className=\"page\">\n            <h2>{user.firstName + ' ' + user.lastName + ': ' + user.email}</h2>\n            <div className={styles.container}>\n            {lessons.length > 0 ? lessons.map((lesson) => (\n                <LessonItem key={lesson._id} lesson={lesson} />\n            )) : (\n            <div>\n                <h5>\n                Тут пусто :(\n                </h5>\n            </div>\n        )}\n        </div>\n        </div>\n    )\n};","import React from 'react';\nimport { privateRoutes, publicRoutes } from './routes';\nimport {Switch, Route, Redirect} from 'react-router-dom';\nimport { LESSONS_ROUTE } from './consts';\nimport { useTypedSelector } from '../hooks/useTypedSelector';\n\nexport const ClientRouter:React.FC = () => {\n    const user = useTypedSelector(state => state.auth.isAuth);\n    return user ? (\n        <Switch>\n            {privateRoutes.map((route) => (\n                <Route key=\"{route}\" exact path={route.path} component={route.component}/>\n            ))};\n            <Redirect to={LESSONS_ROUTE}/>\n        </Switch>\n    ) : (\n        <Switch>\n            {publicRoutes.map((route) => (\n                <Route key=\"{route}\" exact path={route.path} component={route.component}/>\n            ))};\n             <Redirect to={LESSONS_ROUTE}/>\n        </Switch>\n    );\n};","import React, {useState} from 'react';\nimport SearchIcon from '@material-ui/icons/Search';\nimport styles from './styles.module.scss';\nimport { useDispatch } from 'react-redux';\nimport { searchLessons } from '../../store/lessons/actions/lessonsActions';\n\nexport const SearchField: React.FC = () => {\n\n    const dispatch = useDispatch()\n\n    const [text, setText] = useState('')\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setText(e.target.value);\n    };\n\n    const handleSubmit = (e: React.ChangeEvent<HTMLFormElement>) => {\n        e.preventDefault()\n        const tags = text.split(' ');\n        dispatch(searchLessons(tags));\n    };\n\n    return (\n        <form className={styles.form} onSubmit={handleSubmit}>\n            <input \n                className={styles.input}\n                type=\"text\"\n                placeholder=\"Поиск\"\n                onChange={handleChange}\n            />\n            <button className={styles.button} type=\"submit\">\n                <SearchIcon/>\n            </button>\n        </form>\n    );\n};\n","import React from 'react';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { NavLink } from 'react-router-dom';\nimport { AUTH_ROUTE } from '../../router/consts';\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\nimport { useDispatch } from 'react-redux';\nimport { singOutUser } from '../../store/auth/actions/authActions';\nimport styles from './styles.module.scss';\nimport { SearchField } from '../Search/SearchField';\n\n\nexport const Navbar: React.FC = () => {\n\n    const dispatch = useDispatch();\n\n    const user = useTypedSelector(state => state.auth.auth?.user);\n\n    const logout = () => {\n        dispatch(singOutUser());\n    };\n\n    return (\n        <header className={styles.header}>\n            <h1 className={styles.logo}><LibraryBooksIcon/>eduplatform</h1>\n            <div className={styles.search}>\n                <SearchField/>\n            </div>\n            {!user ? ( \n            <NavLink className={styles.log} to={AUTH_ROUTE}>\n                <PersonIcon/>\n            </NavLink>\n            ) : (\n            <>\n                <h3 className={styles.username}>{user.firstName}</h3>\n                <button className={styles.log} onClick={() => {logout()}}>\n                    <ExitToAppIcon/>\n                </button>\n            </>\n            )}\n        </header>\n    );\n};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport styles from './styles.module.scss';\n\nexport const NavButtonLink: React.FC<{path: string, text: string, Icon: React.FC}> = ({path, text, Icon}) => {\n\n    return (\n        <NavLink to={path}>\n            <button className={styles.navlink} title={text}>\n                <Icon/>\n                <h3 className={styles.text}>{text}</h3>\n            </button>\n        </NavLink>\n    );\n};\n","import React from 'react'\nimport { CREATE_ROUTE, FAVORITES_ROUTE, HISTORY_ROUTE, LESSONS_ROUTE, PROFILE_ROUTE } from '../../../router/consts';\nimport { NavButtonLink } from './NavButtonLink';\nimport HomeOutlinedIcon from '@material-ui/icons/HomeOutlined';\nimport FaceOutlinedIcon from '@material-ui/icons/FaceOutlined';\nimport AddIcon from '@material-ui/icons/Add';\nimport FavoriteBorderOutlinedIcon from '@material-ui/icons/FavoriteBorderOutlined';\nimport VisibilityOutlinedIcon from '@material-ui/icons/VisibilityOutlined';\nimport { useTypedSelector } from '../../../hooks/useTypedSelector';\nimport styles from './styles.module.scss';\n\ninterface NavButtonLinkType {\n    path: string,\n    text: string,\n    component: React.FC\n};\n\nexport const NavLinks: React.FC = () => {\n\n    const user = useTypedSelector(state => state.auth.isAuth);\n\n    const currentLinks: Array<NavButtonLinkType> = !user ? [\n        {path: LESSONS_ROUTE, text: 'Главная', component: HomeOutlinedIcon},\n    ] : [\n        {path: LESSONS_ROUTE, text: 'Главная', component: HomeOutlinedIcon},\n        {path: PROFILE_ROUTE, text: 'Профиль', component: FaceOutlinedIcon},\n        {path: FAVORITES_ROUTE, text: 'Понравилось', component: FavoriteBorderOutlinedIcon},\n        {path: HISTORY_ROUTE, text: 'История', component: VisibilityOutlinedIcon},\n        {path: CREATE_ROUTE, text: 'Создать урок', component: AddIcon},\n    ];\n\n    return (\n        <div className={styles.navlinks}>\n            {currentLinks.map(link => (\n                <NavButtonLink key={link.path} path={link.path} text={link.text} Icon={link.component}/>\n            ))}\n        </div>\n    );\n};\n","import React from 'react';\nimport { NavLinks } from '../NavLinks/NavLinks';\nimport styles from './styles.module.scss';\n\nexport const NavMenu: React.FC = () => {\n\n    return (\n        <div className={styles.nav}>\n            <NavLinks/>\n        </div>\n    );\n};\n","import React, { useEffect } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { ClientRouter } from './router/ClientRouter';\nimport { Navbar } from './components/Navbar/Navbar';\nimport { checkAuth } from './store/auth/actions/authActions';\nimport { useDispatch } from 'react-redux';\nimport './index.scss';\nimport { NavMenu } from './components/Navbar/NavMenu/NavMenu';\n\n\nexport const App:React.FC = () => {\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if(localStorage.getItem('token')){\n      dispatch(checkAuth());\n    };\n  }, [dispatch]);\n\n  return (\n    <BrowserRouter>\n      <div className=\"app-container\">\n        <Navbar/>\n        <NavMenu/>\n        <ClientRouter/>\n      </div>\n    </BrowserRouter>\n  );\n};\n","import { actionTypes  } from '../actions/actionTypes';\nimport { lessonsAction, LessonObject } from '../types/types';\n\n\ninterface lessonsState {\n    lessons: Array<LessonObject>,\n    loading: boolean,\n    error: null | string\n};\n\nconst initialState:lessonsState = {\n    lessons: [],\n    loading: false,\n    error: null,\n};\n\nexport const lessonsReducer = (state = initialState, action:lessonsAction):lessonsState => {\n    switch(action.type) {\n        // LOADING\n        case actionTypes.FETCH_ALL:\n        case actionTypes.CREATE:\n        case actionTypes.DELETE:\n            return {lessons: state.lessons, loading: true, error: null};\n        // SUCCESS\n        case actionTypes.FETCH_ALL_SUCCESS:\n            return {lessons: action.payload, loading: false, error: null};\n        case actionTypes.CREATE_SUCCESS:\n            state.lessons.push(action.payload);\n            return {lessons: state.lessons, loading: false, error: null};\n        case actionTypes.DELETE_SUCCESS:\n            let pos = state.lessons.indexOf(action.payload);\n            delete state.lessons[pos];\n            return {lessons: state.lessons, loading: false, error: null};\n        // ERROR\n        case actionTypes.FETCH_ALL_ERROR:\n        case actionTypes.CREATE_ERROR:\n        case actionTypes.DELETE_ERROR:\n            return {lessons: state.lessons, loading: false, error: action.payload};\n\n        case actionTypes.SEARCH:\n            console.log(action.payload)\n            const result = state.lessons.filter(lesson => {\n                for (let i = 0; i < action.payload.length; i++) {\n                    console.log(action.payload[i] + ' in ' + lesson.tags)\n                    if (lesson.tags.indexOf(action.payload[i]) !== -1) return true\n                }\n                return false\n            });\n            console.log(result)\n            return {lessons: result, loading: false, error: null};\n        default:\n            return state;\n    };\n};","import { actionTypes } from \"../actions/actionTypes\";\nimport { lessonsAction, LessonObject } from \"../types/types\";\n\ninterface lessonState {\n    lesson: LessonObject | null,\n    loading: boolean,\n    error: null | string\n};\n\nconst initialState:lessonState = {\n    lesson: null,\n    loading: false,\n    error: null,\n};\n\nexport const lessonReducer = (state = initialState, action:lessonsAction):lessonState => {\n    switch(action.type) {\n        case actionTypes.FETCH_ONE:\n        case actionTypes.UPDATE:\n            return {lesson: null, loading: true, error: null};\n        case actionTypes.FETCH_ONE_SUCCESS:\n        case actionTypes.UPDATE_SUCCESS:\n        case actionTypes.LIKE:\n            return {lesson: action.payload, loading: false, error: null};\n        case actionTypes.FETCH_ONE_ERROR:\n        case actionTypes.UPDATE_ERROR:\n            return {lesson: null, loading: false, error: action.payload};\n        default:\n            return state;\n    };\n};","import { Auth, userSignInAction, userSignOutAction, userSignUpAction } from './../types/types';\nimport { actionTypes } from \"../actions/actionTypes\";\n\ninterface AuthState {\n    isAuth: boolean,\n    auth: Auth | null,\n    error: null | string,\n};\n\nconst initialState:AuthState = {\n    isAuth: false,\n    auth: null,\n    error: null,\n};\n\nexport const authReducer = (state = initialState, action:userSignInAction | userSignUpAction | userSignOutAction):AuthState => {\n    switch(action.type) {\n        case actionTypes.LOGIN_SUCCESS:\n        case actionTypes.REGISTRATION_SUCCESS:\n            return {isAuth: true, auth: action.payload, error: null};\n        case actionTypes.LOGIN_ERROR:\n        case actionTypes.REGISTRATION_ERROR:\n            return {isAuth: false, auth: null, error: action.payload};\n        case actionTypes.LOGOUT:\n            return {isAuth: false, auth: null, error: null};\n        default:\n            return state;\n    };\n};","import thunk from \"redux-thunk\";\nimport { applyMiddleware, createStore } from \"redux\";\n\nimport { lessonsReducer } from './lessons/reducer/lessonsReducer';\nimport { lessonReducer } from './lessons/reducer/lessonReducer';\nimport { combineReducers } from \"redux\";\nimport { authReducer } from \"./auth/reducer/authReducer\";\n\n\nconst rootReducer = combineReducers({\n    lessons: lessonsReducer,\n    lesson: lessonReducer,\n    auth: authReducer,\n});\nexport type RootState = ReturnType<typeof rootReducer>;\n\n\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\nimport { Provider } from 'react-redux';\nimport { store } from './store/index';\n\nReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3-Iww\",\"video\":\"styles_video__2rASi\",\"description\":\"styles_description__1xLUd\",\"toolbar\":\"styles_toolbar__3mNmQ\",\"btn\":\"styles_btn__1VO-n\",\"modal\":\"styles_modal__2dlRI\",\"close\":\"styles_close__1mj51\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__1SxrA\",\"poster\":\"styles_poster__2qb3H\",\"title\":\"styles_title__w4g_I\",\"creator\":\"styles_creator__2TjFU\",\"date\":\"styles_date__1nnmS\",\"tags\":\"styles_tags__3-OmJ\",\"tag\":\"styles_tag__cOx8g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1Rt7J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"styles_form__3rXeO\",\"input\":\"styles_input__1aag3\",\"button\":\"styles_button__33zMv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"styles_header__3oMPk\",\"logo\":\"styles_logo__ymKe9\",\"search\":\"styles_search__3CSEe\",\"username\":\"styles_username__3BOb8\",\"log\":\"styles_log__f7IMK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"styles_form__1cKh-\",\"input\":\"styles_input__24Hye\",\"button\":\"styles_button__wbBIe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navlinks\":\"styles_navlinks__RxYUH\",\"navlink\":\"styles_navlink__3fJjM\",\"text\":\"styles_text__2EQHl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"styles_form__1261W\",\"input\":\"styles_input__1Puc8\",\"button\":\"styles_button__qgCdL\"};"],"sourceRoot":""}